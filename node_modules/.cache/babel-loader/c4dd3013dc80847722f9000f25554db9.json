{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\eruku\\\\anudeepapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\eruku\\\\anudeepapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\eruku\\\\anudeepapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\eruku\\\\anudeepapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\eruku\\\\anudeepapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\eruku\\\\anudeepapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\eruku\\\\anudeepapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\eruku\\\\anudeepapp\\\\src\\\\tasks\\\\viewtasks.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { Taskcard } from \"../cards/viewtaskcard\";\nimport { Updatestate } from \"../index\";\n\nfunction globalupdatestate(val) {\n  var _this = this;\n\n  this.setState({\n    \"edit\": true\n  });\n  this.setState({\n    \"taskid\": val\n  }, function () {\n    alert(\"this is taskid for global:\" + _this.state.taskid);\n    console.log(\"inside global \" + _this.state.taskid);\n  });\n  alert(\"after setting state\" + this.state.taskid + this.state.edit);\n  this.GetsingleTask(val);\n}\n\nfunction deletetask(val) {\n  var _this2 = this;\n\n  alert(\"Entered deleted\");\n  axios.post('http://127.0.0.1:3000/api/v1/task/delete/' + this.state.userId + '/' + this.state.listId + '/' + val + '/' + this.state.authToken).then(function (response) {\n    alert(\"Deleted Successfully\");\n    console.log(response);\n\n    _this2.componentDidMount();\n  }).catch(function (error) {\n    alert(\"error\");\n    console.log(Error);\n  });\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  });\n}\n\nvar View_tasks =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(View_tasks, _React$Component);\n\n  function View_tasks(props) {\n    var _this3;\n\n    _classCallCheck(this, View_tasks);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(View_tasks).call(this, props));\n    _this3.state = {\n      userId: _this3.props.userdata.data.data.userDetails.userId,\n      listId: _this3.props.data.listId,\n      authToken: _this3.props.userdata.data.data.authToken,\n      taskcontent: \"\",\n      alltasks: undefined,\n      edit: \"false\",\n      taskid: undefined\n    };\n    globalupdatestate = globalupdatestate.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    _this3.handlesubmit = _this3.handlesubmit.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    _this3.changehandler = _this3.changehandler.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    _this3.GetsingleTask = _this3.GetsingleTask.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    _this3.handle_edit = _this3.handle_edit.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    deletetask = deletetask.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    return _this3;\n  }\n\n  _createClass(View_tasks, [{\n    key: \"GetsingleTask\",\n    value: function GetsingleTask(taskid) {\n      var _this4 = this;\n\n      alert(\"in get\" + this.state.taskid);\n      console.log(\"this is taskid:\" + taskid);\n      axios.get('http://127.0.0.1:3000/api/v1/task/one/' + this.state.userId + '/' + this.state.listId + '/' + taskid + '/' + this.state.authToken).then(function (response) {\n        alert(\"entered\"); //this.setState({taskcontent:})\n\n        console.log(\"Entered single task data \");\n        console.log(response);\n\n        _this4.setState({\n          taskcontent: response.data[0].task\n        });\n\n        console.log(response.data[0].task);\n        console.log(\"above is single task response\");\n      }).catch(function (error) {\n        alert(\"Error\");\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this5 = this;\n\n      axios.get('http://127.0.0.1:3000/api/v1/task/view/' + this.state.userId + '/' + this.state.listId + '/' + this.state.authToken).then(function (response) {\n        console.log(\"this is views response\");\n        console.log(response);\n        console.log(\"above is views response\");\n        var fulldata = response.data.map(function (td) {\n          return React.createElement(Taskcard, {\n            key: td.taskId,\n            data: td,\n            logindata: _this5.state,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90\n            },\n            __self: this\n          });\n        });\n\n        _this5.setState({\n          alltasks: fulldata\n        });\n      }).catch(function (error) {\n        alert(\"Error\");\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"handle_edit\",\n    value: function handle_edit(e) {\n      var _this6 = this;\n\n      e.preventDefault();\n      var data = {\n        listId: this.state.listId,\n        userId: this.state.userId,\n        taskId: this.state.taskid,\n        task: this.state.taskcontent\n      };\n      alert(\"this is taskId in edit \" + data.task);\n      axios.put('http://127.0.0.1:3000/api/v1/task/edit/' + this.state.userId + '/' + this.state.listId + '/' + this.state.taskid + '/' + this.state.authToken, data).then(function (response) {\n        alert(\"inside response\");\n        console.log(\"This is edited response:\");\n        console.log(response);\n        console.log(\"above is edited response\");\n\n        _this6.componentDidMount();\n      }).catch(function (error) {\n        alert(\"error\");\n        console.log(error);\n      });\n      this.setState({\n        \"edit\": false\n      });\n    }\n  }, {\n    key: \"fordelete\",\n    value: function fordelete() {\n      alert(\"came into delete\");\n    }\n  }, {\n    key: \"handlesubmit\",\n    value: function handlesubmit(e) {\n      var _this7 = this;\n\n      e.preventDefault();\n      alert(\"in handle submit\");\n      axios.post('http://127.0.0.1:3000/api/v1/tasks/create/' + this.state.userId + '/' + this.state.listId + '/' + this.state.authToken, this.state).then(function (response) {\n        console.log(response);\n        alert(\"task posted\");\n\n        _this7.componentDidMount();\n      }).catch(function (error) {\n        alert(\"error\");\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"changehandler\",\n    value: function changehandler(e) {\n      this.setState(_defineProperty({}, e.target.name, e.target.value));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"html\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"head\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"meta\", {\n        name: \"viewport\",\n        content: \"width=device-width, initial-scale=1.0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }), React.createElement(\"link\", {\n        rel: \"stylesheet\",\n        href: \"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\",\n        integrity: \"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\",\n        crossorigin: \"anonymous\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      })), React.createElement(\"body\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          marginBottom: \"10%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"nav\", {\n        className: \"navbar navbar-expand-lg navbar-dark bg-#04192E\",\n        style: {\n          backgroundColor: \"#04192E\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"navbar-brand\",\n        href: \"#\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"ToDo List\"), React.createElement(\"button\", {\n        className: \"navbar-toggler\",\n        type: \"button\",\n        \"data-toggle\": \"collapse\",\n        \"data-target\": \"#navbarNavAltMarkup\",\n        \"aria-controls\": \"navbarNavAltMarkup\",\n        \"aria-expanded\": \"false\",\n        \"aria-label\": \"Toggle navigation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"navbagler-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"collapse navbar-collapse\",\n        id: \"navbarNavAltMarkup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"navbar-nav\",\n        style: {\n          marginLeft: \"50%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"nav-item nav-link active\",\n        onClick: function onClick() {\n          Updatestate({\n            \"lists\": true\n          });\n          Updatestate({\n            \"tasks\": false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"ViewLists \", React.createElement(\"span\", {\n        className: \"sr-only\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"(current)\")), React.createElement(\"a\", {\n        className: \"nav-item nav-link active\",\n        onClick: function onClick() {\n          Updatestate({\n            \"createlist\": true\n          });\n          Updatestate({\n            \"tasks\": false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"CreateLists\"), React.createElement(\"a\", {\n        className: \"nav-item nav-link active\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, \"Logout\"))))), React.createElement(\"form\", {\n        onSubmit: this.state.edit == true ? this.handle_edit : this.handlesubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"taskcontent\",\n        value: this.state.taskcontent,\n        style: {\n          width: \"75%\",\n          marginTop: \"2%\",\n          marginRight: \"10%\",\n          marginLeft: \"10%\",\n          marginBottom: \"2%\",\n          maxLength: \"35\"\n        },\n        onChange: this.changehandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn btn-success\",\n        style: {\n          marginLeft: \"40%\",\n          marginBottom: \"2%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, \"submit\")))), this.state.alltasks);\n    }\n  }]);\n\n  return View_tasks;\n}(React.Component);\n\nexport default View_tasks;\nexport { globalupdatestate };\nexport { deletetask };","map":{"version":3,"sources":["C:\\Users\\eruku\\anudeepapp\\src\\tasks\\viewtasks.js"],"names":["React","axios","Taskcard","Updatestate","globalupdatestate","val","setState","alert","state","taskid","console","log","edit","GetsingleTask","deletetask","post","userId","listId","authToken","then","response","componentDidMount","catch","error","Error","View_tasks","props","userdata","data","userDetails","taskcontent","alltasks","undefined","bind","handlesubmit","changehandler","handle_edit","get","task","fulldata","map","td","taskId","e","preventDefault","put","target","name","value","marginBottom","backgroundColor","marginLeft","width","marginTop","marginRight","maxLength","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport {Taskcard} from \"../cards/viewtaskcard\";\r\nimport {Updatestate} from \"../index\";\r\nfunction globalupdatestate(val){\r\n\r\n    this.setState({\"edit\":true})\r\n    this.setState({\"taskid\":val},\r\n               () => {\r\n                   alert(\"this is taskid for global:\"+this.state.taskid)\r\n                   console.log(\"inside global \"+this.state.taskid)\r\n               }\r\n               );\r\n    alert(\"after setting state\"+this.state.taskid +this.state.edit)\r\n    this.GetsingleTask(val);\r\n    \r\n}\r\nfunction deletetask(val){\r\n   \r\n    alert(\"Entered deleted\")\r\n    axios\r\n    .post('http://127.0.0.1:3000/api/v1/task/delete/'+this.state.userId+'/'+this.state.listId+'/'+val+'/'+this.state.authToken)\r\n    .then(response => {\r\n        alert(\"Deleted Successfully\")\r\n        console.log(response)\r\n        this.componentDidMount();\r\n    })\r\n    .catch(error => {\r\n        alert(\"error\")\r\n        console.log(Error)\r\n    })\r\n return(\r\n     <div></div>\r\n\r\n     )\r\n  \r\n}\r\n\r\nclass View_tasks extends React.Component{\r\n    constructor(props){\r\n     super(props);\r\n     this.state={\r\n         userId:this.props.userdata.data.data.userDetails.userId,\r\n         listId:this.props.data.listId,\r\n         authToken:this.props.userdata.data.data.authToken,\r\n         taskcontent:\"\",\r\n         alltasks:undefined,\r\n         edit:\"false\",\r\n         taskid:undefined,\r\n        }\r\n        globalupdatestate=globalupdatestate.bind(this)\r\n     this.handlesubmit=this.handlesubmit.bind(this);\r\n     this.changehandler=this.changehandler.bind(this);\r\n     this.GetsingleTask=this.GetsingleTask.bind(this);\r\n     this.handle_edit=this.handle_edit.bind(this);\r\n     deletetask=deletetask.bind(this)\r\n    }\r\n  \r\n\r\n    GetsingleTask(taskid){\r\n\r\n        alert(\"in get\"+this.state.taskid)\r\n        console.log(\"this is taskid:\"+taskid)\r\n        axios\r\n        .get('http://127.0.0.1:3000/api/v1/task/one/'+this.state.userId+'/'+this.state.listId+'/'+taskid+'/'+this.state.authToken)\r\n        .then(response =>{\r\n            alert(\"entered\")\r\n            //this.setState({taskcontent:})\r\n            console.log(\"Entered single task data \")\r\n            console.log(response)\r\n            this.setState({taskcontent:response.data[0].task})\r\n            console.log(response.data[0].task)\r\n            console.log(\"above is single task response\")\r\n        })\r\n        .catch(error =>{\r\n            alert(\"Error\")\r\n            console.log(error)\r\n        })\r\n   \r\n\r\n    }\r\n    componentDidMount(){\r\n       \r\n        axios\r\n        .get('http://127.0.0.1:3000/api/v1/task/view/'+this.state.userId+'/'+this.state.listId+'/'+this.state.authToken)\r\n        .then(response =>{\r\n            console.log(\"this is views response\")\r\n            console.log(response)\r\n            console.log(\"above is views response\")\r\n           const fulldata= (response.data).map((td) =><Taskcard key={td.taskId} data={td} logindata={this.state}/> )\r\n           this.setState({alltasks:fulldata})\r\n        })\r\n        .catch(error =>{\r\n            alert(\"Error\")\r\n            console.log(error)\r\n        })\r\n\r\n    }\r\n    handle_edit(e){\r\n         e.preventDefault();\r\n         let data={\r\n             listId:this.state.listId,\r\n             userId:this.state.userId,\r\n             taskId:this.state.taskid,\r\n             task:this.state.taskcontent\r\n         }\r\n         alert(\"this is taskId in edit \"+data.task)\r\n        axios\r\n        .put('http://127.0.0.1:3000/api/v1/task/edit/'+this.state.userId+'/'+this.state.listId+'/'+this.state.taskid+'/'+this.state.authToken,data)\r\n        .then(response => {\r\n            alert(\"inside response\")\r\n            console.log(\"This is edited response:\")\r\n            console.log(response)\r\n            console.log(\"above is edited response\")\r\n            this.componentDidMount();\r\n        })\r\n        .catch(error =>{\r\n            alert(\"error\")\r\n            console.log(error)\r\n        })\r\n         this.setState({\"edit\":false})\r\n\r\n    }\r\n    fordelete(){\r\n\r\n        alert(\"came into delete\")\r\n    } \r\n\r\n    handlesubmit(e){\r\n        e.preventDefault();\r\n        alert(\"in handle submit\")\r\n        axios.post('http://127.0.0.1:3000/api/v1/tasks/create/'+this.state.userId+'/'+this.state.listId+'/'+this.state.authToken,this.state)\r\n        .then(response =>{ \r\n          \r\n            console.log(response)\r\n            alert(\"task posted\")\r\n            this.componentDidMount();\r\n            \r\n        })\r\n        .catch(error=>{\r\n            alert(\"error\")\r\n           console.log(error)\r\n        })\r\n\r\n\r\n    }\r\n    changehandler(e){\r\n     this.setState({[e.target.name]:e.target.value})\r\n\r\n    }\r\n    render(){\r\n        return(\r\n            <div>\r\n\r\n<html>\r\n    <head>\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n        <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossorigin=\"anonymous\" />\r\n    </head>\r\n    <body >\r\n        \r\n                <div style={{ marginBottom: \"10%\" }}>\r\n                            <nav className=\"navbar navbar-expand-lg navbar-dark bg-#04192E\" style={{ backgroundColor: \"#04192E\" }}>\r\n                                <a className=\"navbar-brand\" href=\"#\">ToDo List</a>\r\n                                <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNavAltMarkup\"\r\n                                    aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                                    <span className=\"navbagler-icon\"></span>\r\n                                </button>\r\n                                <div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\r\n                                    <div className=\"navbar-nav\" style={{ marginLeft: \"50%\" }}>\r\n                                        <a className=\"nav-item nav-link active\" onClick={()=>{ Updatestate({\"lists\":true}) ;Updatestate({\"tasks\":false})} }>ViewLists <span\r\n                                            className=\"sr-only\">(current)</span></a>\r\n                                        <a className=\"nav-item nav-link active\" onClick={()=>{ Updatestate({\"createlist\":true}) ;Updatestate({\"tasks\":false})} }>CreateLists</a>\r\n                                        <a className=\"nav-item nav-link active\" >Logout</a>\r\n                                    </div>\r\n                                </div>\r\n                            </nav>\r\n                        </div>\r\n            <form onSubmit={this.state.edit==true ? this.handle_edit: this.handlesubmit}>\r\n            <input type=\"text\" \r\n            name=\"taskcontent\" \r\n            value={this.state.taskcontent} \r\n            style={{width:\"75%\",marginTop: \"2%\",marginRight: \"10%\",marginLeft: \"10%\",marginBottom: \"2%\",maxLength:\"35\" }}  \r\n            onChange={this.changehandler}    />\r\n            <br />\r\n             <button  className=\"btn btn-success\" style={{marginLeft: \"40%\",marginBottom: \"2%\"}}  >submit</button>\r\n            </form>\r\n        </body>\r\n        </html>\r\n           {this.state.alltasks}\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\nexport default View_tasks;\r\nexport {globalupdatestate}\r\nexport {deletetask}"]},"metadata":{},"sourceType":"module"}